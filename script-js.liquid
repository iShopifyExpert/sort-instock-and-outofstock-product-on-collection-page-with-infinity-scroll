<script type="text/javascript">
  var $wrapper = $('.collection-template-section .grid-uniform');
  $wrapper.find('.grid-item').sort(function (a, b) {
    return +a.dataset.sort - +b.dataset.sort;
  }).appendTo( $wrapper );
  $(window).scroll(function() {
    var hT = $('.magik-infi-loader').offset().top,
        hH = $('.magik-infi-loader').outerHeight(),
        wH = $(window).height(),
        wS = $(this).scrollTop();
    console.log((hT-wH) , wS);
    if (wS > (hT+hH-wH)){
      scrollHandler();
    }
  });
  function scrollHandler() {
    setTimeout(function(){
      var $wrapper = $('.collection-template-section .grid-uniform');
      $wrapper.find('.grid-item').sort(function (a, b) {
        return +a.dataset.sort - +b.dataset.sort;
      }).appendTo( $wrapper );
    }, 3000);
  }
</script>
